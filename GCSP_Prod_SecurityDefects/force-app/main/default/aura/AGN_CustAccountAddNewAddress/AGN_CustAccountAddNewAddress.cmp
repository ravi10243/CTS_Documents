<aura:component implements="forceCommunity:availableForAllPageTypes" controller="AGN_OAMPortalAccountUpdateController" access="global" >
    
    <ltng:require scripts="{!$Resource.AGN_CustomerPortalJQuery }" afterScriptsLoaded="{!c.scriptsLoaded}" />
    <!--<ltng:require styles="{!$Resource.AGN_CustomerPortal_Lightning + '/css/upload.css'}"/>  -->
    
    <aura:attribute name="controller" type="AGN_OAMPortalAccountUpdateController"/>
    <aura:attribute name="address" type="Allergan_Customer_Address_AGN__c" default="{ 'sobjectType': 'Allergan_Customer_Address_AGN__c'}"/>
    <aura:attribute name="CustTypeConfig" type="Customer_Type_Configuration_AGN__c[]" default="{ 'sobjectType': 'Customer_Type_Configuration_AGN__c'}"/>
    
    <aura:attribute name="caseDetail" type="Case" default="{ 'CaseNumber': '000000'}"/>
    <aura:attribute name="type" type="string"/>
    <aura:attribute name="showSpinner" type="boolean" default="false"/>
    <aura:attribute name="fieldValidation" type="boolean" default="false"/>   
    <aura:attribute name="activity" type="string"/>
    <aura:attribute name="StateCode" type="AGN_CR_CountryRegionMapping__mdt[]"/>
    <aura:attribute name="fileName" type="string"/>
    <aura:handler name="init" value="{!this}" action="{!c.init}" />
    <aura:handler event="aura:doneRendering" action="{!c.doneRendering}"/>
    
    <!-- if Payment Method & Payment method is Null    -->    
    <aura:attribute name="PaymentMethod1" type="string"/>
    <aura:attribute name="PaymentTerm1" type="string"/>
    <aura:attribute name="isPaymentTerm" type="boolean" default="true"/>
    <aura:attribute name="required" type="Boolean" />
    <aura:attribute name="PTfieldValueMissing" type="Boolean" default="false"/>
    <aura:attribute name="PMfieldValueMissing" type="Boolean" default="false"/>
    <aura:attribute name="isShow" type="Boolean" default="false"/>
    <aura:attribute type = "sObject[]" name="PaymentMethod"/>
    <aura:attribute type = "sObject[]" name="PaymentTerm"/>
    
    
    <aura:if isTrue="{!v.showSpinner ? true : false}">
        <div id="LoaderAnimation">
            <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.50; z-index: 1000; background-color: #e3e3e3;">
                &nbsp;
            </div>
            <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 1001; margin: 25% 45%">
                
                <div align="center" class="loader"></div>
            </div>
        </div>
    </aura:if>
    
    <!-- Fix for GB IE -->
    <aura:attribute name="SAPCountryCode" type="String"/>
	<!-- Fix for GB IE -->
    
    <aura:attribute name="countryCode" type="string" default=""/>
    <aura:attribute name="customerType" type="string" default=""/>
    <aura:attribute name="customerSubType" type="string" default=""/> 
    
    <aura:attribute name="sectionHeaderMapSoldTo" type="List" default="[]" />
    <aura:attribute name="sectionHeaderMapBillTo" type="List" default="[]" />
    <aura:attribute name="sectionHeaderMapShipTo" type="List" default="[]" />
    
    <aura:attribute name="sectionHeaderMapPayment" type="List" default="[]" />
    
    <aura:attribute name="isSaved" type="boolean" default="false"/>
    <aura:attribute name="shipTo" type="string" default=""/>
    <aura:attribute name="billTo" type="string" default=""/>
    <aura:attribute name="soldTo" type="string" default=""/>
    
    <!--   <aura:attribute name="sectionHeaderMapSoldToPayment" type="List" default="[]" />
    <aura:attribute name="sectionHeaderMapBillToPayment" type="List" default="[]" />  
    <aura:attribute name="sectionHeaderMapPayment" type="Map" default="{}" />  -->
    
    <div class="container">
        <div class="basic_details com_save" id="here"> 
            <div class="hd">{!v.type} : {!v.controller.newAddress.SAP_ID_AGN__c}</div>
            <div class="infr_det">
                <div class="infr_bg">
                    <div class="infr_details">
                        <div class="section_header">{!$Label.c.AGN_OAM_Body_Address}<span></span></div>
                        <section class="content bgcolor-7">
                            
                            <aura:if isTrue="{!not(empty(v.SAPCountryCode))}">
                                <aura:if isTrue="{!v.type==v.soldTo  ? true : false}">
                                    <!-- Sold To Address Data --> 
                                 <aura:if isTrue="{!and(v.activity=='edit',(v.SAPCountryCode == 'IT'))}">
                                    <span class="input input--nariko inputtextValue input-identifier">
                                  <!--ui:outputText value="{!v.address.Company_Name_AGN__c}"/-->
                                     <ui:inputText aura:id="inputField" value="{!v.address.Company_Name_AGN__c}" class="input__field input__field--nariko inputtextValue"
                                     disabled ="true"
                                     />
                                     <label class="input__label input__label--nariko">
                                         <span class="input__label-content inputHasValue">{!$Label.c.AGN_OAM_Company_Name}</span>
                                     </label>
                                 </span>
                                  </aura:if>
                                    <aura:iteration items="{!v.sectionHeaderMapSoldTo}" var="mapValue" indexVar="key">  
                                        <aura:iteration items="{!mapValue.value}" var="fieldValue">
                                          <aura:if isTrue="{!and(not(and(fieldValue.Field_Name_AGN__c == 'Company_Name_AGN__c',fieldValue.SObject_Name_AGN__c == 'Allergan_Customer_Address_AGN__c')),v.SAPCountryCode == 'IT')}">
                                            <c:AGN_CommunityInputFieldCmp 
                                                                          aura:id="fieldSoldTo" 
                                                                          sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                          record="{!v.address}" 
                                                                          fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                          customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                          required="{!fieldValue.Required_AGN__c}"
                                                                          fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                          customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                          cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                          />
                                         </aura:if>
                                            <aura:if isTrue="{!v.SAPCountryCode != 'IT'}">
                                             <c:AGN_CommunityInputFieldCmp 
                                                                          aura:id="fieldShipTo" 
                                                                          sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                          record="{!v.address}" 
                                                                          fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                          customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                          required="{!fieldValue.Required_AGN__c}"
                                                                          fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                          customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                          cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                          />

                                             
                                             
                                            </aura:if>
                                        </aura:iteration>
                                    </aura:iteration>
                                    
                                    <br/>
                                    
                                    <!-- Sold To Payment details -->   
                                    
                                    
                                    
                                    <section class="content bgcolor-7"> 
                                        
                                        <!--  if Customer Payment is  isNull   -->
                                        
                                        <aura:if isTrue="{!or(v.controller.custPayment.length == 0, v.controller.paymentMethod.Form_Of_Payment_Label_AGN__c == null)}">
                                            <div class="section_header"> {!$Label.c.AGN_OAM_Payment_Details} </div>
                                            <span  class="{!'input input--nariko inputtextValue input-identifier' + ' ' +(v.required ? 'required-identifier' : '')}" data-inputFiedlValue="{!v.PaymentMethod1}" data-fieldValueMissing="{!v.PMfieldValueMissing}" > 
                                                <ui:inputSelect aura:id="paymentMethod" value="{!v.PaymentMethod1}" class="{!'input__field input__field--nariko inputtextValue' + ' ' +(v.PMfieldValueMissing ? 'required' : '')}" change="{!c.onChangePaymentMethod}">                            
                                                    <option value="" text=""></option>
                                                    <aura:iteration items="{!v.PaymentMethod}" var="fop">
                                                        <option value="{!fop.Id}" text="{!fop.Form_Of_Payment_Label_AGN__c}"></option>  
                                                    </aura:iteration>      
                                                </ui:inputSelect>
                                                <label class="input__label input__label--nariko" for="input-19">
                                                    <span class="input__label-content input__label-content--nariko inputHasValue">{!$Label.c.AGN_OAM_Body_PaymentMethod}<span>*</span></span>
                                                </label>                        
                                            </span> 
                                            <span  class="{!'input input--nariko inputtextValue input-identifier' + ' ' +(v.required ? 'required-identifier' : '')}" data-inputFiedlValue="{!v.PaymentTerm1}" data-fieldValueMissing="{!v.PTfieldValueMissing}" >                         
                                                <aura:if isTrue="{!v.SAPCountryCode != 'IT'}">
                                                    <ui:inputSelect aura:id="paymentTerm" value="{!v.PaymentTerm1}" class="{!'input__field input__field--nariko inputtextValue' + ' ' +(v.PTfieldValueMissing ? 'required' : '')}" disabled="{!v.isPaymentTerm}" change="{!c.onChangePaymentTerm}">
                                                        <option value="" text=""></option> 
                                                        <aura:iteration items="{!v.PaymentTerm}" var="pt">
                                                            <option value="{!pt.SAP_Payment_Term_Code_AGN__c}" text="{!pt.Payment_Term_Label_AGN__c}" ></option> 
                                                        </aura:iteration>    
                                                    </ui:inputSelect>
                                                    <label class="input__label input__label--nariko" for="input-19">
                                                        <span class="input__label-content input__label-content--nariko inputHasValue">{!$Label.c.AGN_OAM_Payment_Term}<span>*</span></span>
                                                    </label>
                                                </aura:if>                              
                                            </span> <br/>
                                        </aura:if>                                        
                                        
                                        <!--  if Customer Payment is  notNull and PaymentTerm is Null  -->
                                        
                                        <aura:if isTrue="{!and(or(v.controller.paymentMethod.Form_Of_Payment_Label_AGN__c !=null, v.controller.paymentMethod.Name !=null), v.controller.paymentTerm.SAP_Payment_Term_Code_AGN__c == null)}"> 
                                            <div class="section_header"> {!$Label.c.AGN_OAM_Payment_Details} </div>
                                            <span  class="{!'input input--nariko inputtextValue input-identifier' + ' ' +(v.required ? 'required-identifier' : '')}" data-inputFiedlValue="{!v.PaymentTerm1}" data-fieldValueMissing="{!v.PTfieldValueMissing}" >                         
                                                <aura:if isTrue="{!v.SAPCountryCode != 'IT'}">
                                                    <ui:inputSelect aura:id="paymentTerm" value="{!v.PaymentTerm1}" class="{!'input__field input__field--nariko inputtextValue' + ' ' +(v.PTfieldValueMissing ? 'required' : '')}" change="{!c.onChangePaymentTermForCustPayment}">
                                                        <option value="" text=""></option> 
                                                        <aura:iteration items="{!v.PaymentTerm}" var="pt">
                                                            <option value="{!pt.SAP_Payment_Term_Code_AGN__c}" text="{!pt.Payment_Term_Label_AGN__c}" ></option> 
                                                        </aura:iteration>    
                                                    </ui:inputSelect>
                                                    <label class="input__label input__label--nariko" for="input-19">
                                                        <span class="input__label-content input__label-content--nariko inputHasValue">{!$Label.c.AGN_OAM_Payment_Term}<span>*</span></span>
                                                    </label>
                                                </aura:if>                              
                                            </span> <br/>
                                            
                                        </aura:if>
                                        
                                        <aura:if isTrue="{!v.isShow}">
                                            <aura:if isTrue="{!not(and(v.SAPCountryCode == 'IT', or(v.PaymentTerm1 == 'CCNT',v.PaymentTerm1 == 'N030')))}">
                                                <aura:iteration items="{!v.sectionHeaderMapPayment}" var="fieldValue" >
                                                    
                                                    <c:AGN_CommunityInputFieldCmp 
                                                                                  aura:id="fieldSoldTo" 
                                                                                  sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                                  record="{!v.address}" 
                                                                                  fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                                  customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                                  required="{!fieldValue.Required_AGN__c}"
                                                                                  fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                                  customCountryCode = "{!v.controller.config.Country_Code_AGN__c}"
                                                                                  cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                                  />
                                                </aura:iteration> 
                                            </aura:if>
                                        </aura:if>
                                    </section>  
                                    <aura:if isTrue="{!not(v.controller.paymentTerm.SAP_Payment_Term_Code_AGN__c == null)}">
                                        <aura:if isTrue="{!not(and(v.SAPCountryCode == 'IT', or(v.controller.paymentTerm.SAP_Payment_Term_Code_AGN__c == 'CCNT',v.controller.paymentTerm.SAP_Payment_Term_Code_AGN__c == 'N030')))}">                                        
                                            <div class="section_header"> {!$Label.c.AGN_OAM_Payment_Details} </div>                                    
                                            <aura:iteration items="{!v.sectionHeaderMapPayment}" var="fieldValue" >
                                                
                                                <c:AGN_CommunityInputFieldCmp 
                                                                              aura:id="fieldSoldTo" 
                                                                              sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                              record="{!v.address}" 
                                                                              fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                              customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                              required="{!fieldValue.Required_AGN__c}"
                                                                              fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                              customCountryCode = "{!v.controller.config.Country_Code_AGN__c}"
                                                                              cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                              />
                                                   
                                            </aura:iteration> 
                                        </aura:if>     
                                    </aura:if>                                                                   
                                </aura:if>
                            </aura:if>
                            
                            <!-- Ship To Address Data  -->
                            
                            <aura:if isTrue="{!not(empty(v.SAPCountryCode))}">  
                                <aura:if isTrue="{!v.type== v.shipTo ? true : false}">
                                   <aura:if isTrue="{!and(or(v.activity=='edit',v.activity=='delete'),(v.SAPCountryCode == 'IT'))}">
                                    <span class="input input--nariko inputtextValue input-identifier">
                                  <!--ui:outputText value="{!v.address.Company_Name_AGN__c}"/-->
                                     <ui:inputText aura:id="inputField" value="{!v.address.Company_Name_AGN__c}" class="input__field input__field--nariko inputtextValue"
                                     disabled ="true"
                                     />
                                     <label class="input__label input__label--nariko">
                                         <span class="input__label-content inputHasValue">{!$Label.c.AGN_OAM_Company_Name}</span>
                                     </label>
                                 </span>
                                  </aura:if>

                                    <aura:iteration items="{!v.sectionHeaderMapShipTo}" var="mapValue" indexVar="key">  
                                        <aura:iteration items="{!mapValue.value}" var="fieldValue">  
                                         <aura:if isTrue="{!or(v.activity=='edit',v.activity=='delete')}">                                             
                                          <aura:if isTrue="{!and(not(and(fieldValue.Field_Name_AGN__c == 'Company_Name_AGN__c',fieldValue.SObject_Name_AGN__c == 'Allergan_Customer_Address_AGN__c')),v.SAPCountryCode == 'IT')}">
                                            <c:AGN_CommunityInputFieldCmp 
                                                                          aura:id="fieldShipTo" 
                                                                          sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                          record="{!v.address}" 
                                                                          fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                          customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                          required="{!fieldValue.Required_AGN__c}"
                                                                          fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                          customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                          cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                          />
                                            </aura:if>
                                             <aura:if isTrue="{!v.SAPCountryCode != 'IT'}">
                                             <c:AGN_CommunityInputFieldCmp 
                                                                          aura:id="fieldShipTo" 
                                                                          sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                          record="{!v.address}" 
                                                                          fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                          customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                          required="{!fieldValue.Required_AGN__c}"
                                                                          fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                          customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                          cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                          />

                                             
                                             
                                            </aura:if>
                                            </aura:if>
                                            <aura:if isTrue="{!v.activity=='new'}">
                                                <c:AGN_CommunityInputFieldCmp 
                                                                              aura:id="fieldShipTo" 
                                                                              sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                              record="{!v.address}" 
                                                                              fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                              customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                              required="{!fieldValue.Required_AGN__c}"
                                                                              fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                              customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                              cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                              />
                                            </aura:if>
                                        </aura:iteration>                                    
                                    </aura:iteration>                                   
                                </aura:if>
                            </aura:if>  
                            
                            
                            <aura:if isTrue="{!not(empty(v.SAPCountryCode))}"> 
                                <aura:if isTrue="{!v.type==v.billTo ? true : false}">                                    
                                    <!-- Bill To Address Data  -->  
                                   <aura:if isTrue="{!and(or(v.activity=='edit',v.activity=='delete'),(v.SAPCountryCode == 'IT'))}">
                                    <span class="input input--nariko inputtextValue input-identifier">
                                  <!--ui:outputText value="{!v.address.Company_Name_AGN__c}"/-->
                                     <ui:inputText aura:id="inputField" value="{!v.address.Company_Name_AGN__c}" class="input__field input__field--nariko inputtextValue"
                                     disabled ="true"
                                     />
                                     <label class="input__label input__label--nariko">
                                         <span class="input__label-content inputHasValue">{!$Label.c.AGN_OAM_Company_Name}</span>
                                     </label>
                                 </span>
                                 </aura:if>
                                    
                                    <aura:iteration items="{!v.sectionHeaderMapBillTo}" var="mapValue" indexVar="key">  
                                        <aura:iteration items="{!mapValue.value}" var="fieldValue"> 
                                            <aura:if isTrue="{!and(or(v.activity=='edit',v.activity=='delete'),fieldValue.Field_Name_AGN__c != 'VAT_Number_AGN__c') }">                                             
                                             <aura:if isTrue="{!and(not(and(fieldValue.Field_Name_AGN__c == 'Company_Name_AGN__c',fieldValue.SObject_Name_AGN__c == 'Allergan_Customer_Address_AGN__c')),v.SAPCountryCode == 'IT')}">
                                                <c:AGN_CommunityInputFieldCmp 
                                                                              aura:id="fieldBillTo" 
                                                                              sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                              record="{!v.address}" 
                                                                              fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                              customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                              required="{!fieldValue.Required_AGN__c}"
                                                                              fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                              customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                              cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                              />
                                                
                                            </aura:if>  
                                                
                                            <aura:if isTrue="{!v.SAPCountryCode != 'IT'}">
                                             <c:AGN_CommunityInputFieldCmp 
                                                                          aura:id="fieldShipTo" 
                                                                          sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                          record="{!v.address}" 
                                                                          fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                          customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                          required="{!fieldValue.Required_AGN__c}"
                                                                          fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                          customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                          cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                          />

                                             
                                             
                                            </aura:if>
                                            </aura:if>
                                            <aura:if isTrue="{!v.activity=='new'}">
                                                <c:AGN_CommunityInputFieldCmp 
                                                                              aura:id="fieldBillTo" 
                                                                              sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                              record="{!v.address}" 
                                                                              fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                              customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                              required="{!fieldValue.Required_AGN__c}"
                                                                              fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                              customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                              cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                              />
                                            </aura:if>
                                        </aura:iteration>                                
                                    </aura:iteration>
                                    <br/>
                                    <!-- Bill To Payment Details  -->
                                    <aura:if isTrue="{!not(and(v.SAPCountryCode == 'IT', or(v.controller.paymentTerm.SAP_Payment_Term_Code_AGN__c == 'CCNT',v.controller.paymentTerm.SAP_Payment_Term_Code_AGN__c == 'N030')))}">
                                        <div class="section_header"> {!$Label.c.AGN_OAM_Payment_Details} </div>                                    
                                        <aura:iteration items="{!v.sectionHeaderMapPayment}" var="fieldValue">
                                            <c:AGN_CommunityInputFieldCmp 
                                                                          aura:id="fieldBillTo" 
                                                                          sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                          record="{!v.address}" 
                                                                          fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                          customLabel="{!fieldValue.Field_Custom_Label_AGN__c}"
                                                                          required="{!fieldValue.Required_AGN__c}"
                                                                          fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                          customCountryCode = "{!v.controller.config.Country_Code_AGN__c}"
                                                                          cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                          />
                                        </aura:iteration>
                                    </aura:if>
                                    <!--19r3 minor, for CIF and NIF number for ES--> 
                                <aura:if isTrue= "{!and(or(v.countryCode == 'ES',v.countryCode == 'IT'), v.activity=='new')}">
	                                        <c:AGN_CommunityTaxOrVatFieldCmp
                                                                         aura:id="fieldVatTax"                                                                         
                                                                         record="{!v.address}"
                                                                         countryCode="{!v.countryCode}"
                                                                         />     
                                        
                                </aura:if>     
                                <!--19r3 minor end -->
                                    <!--
                                    <aura:iteration items="{!v.sectionHeaderMapPayment}" var="mapValue" indexVar="key">  
                                        <aura:iteration items="{!mapValue.value}" var="fieldValue"> 
                                            <aura:if isTrue="{!fieldValue.SObject_Name_AGN__c == 'Allergan_Customer_Address_AGN__c' ? true : false}">
                                                <c:AGN_CommunityInputFieldCmp 
                                                                              aura:id="fieldBillTo" 
                                                                              sobjectName="{!fieldValue.SObject_Name_AGN__c}" 
                                                                              record="{!v.address}" 
                                                                              fieldName="{!fieldValue.Field_Name_AGN__c}"
                                                                              customLabelName="{!fieldValue.Field_Label_AGN__c}"
                                                                              required="{!fieldValue.Required_AGN__c}"
                                                                              fieldRegex="{!fieldValue.Field_Regex_AGN__c}"
                                                                              customCountryCode = "{!v.controller.config.Customer_Country_AGN__r.Alpha_2_Code_vod__c}"
                                                                              cmpHelpText = "{!fieldValue.Help_Text_AGN__c}"
                                                                              />
                                            </aura:if>
                                        </aura:iteration>                                    
                                    </aura:iteration>
                                                -->
                                </aura:if>                         
                            </aura:if>                    
                            
                            
                        </section>   
                        
                        <aura:if isTrue="{!v.activity=='delete' ? false : true}">
                            <div class="section_header">{!$Label.c.AGN_OAM_Body_UploadDocuments} : 
                                <label for="files">
                                    <span class="photo_id_attach">
                                        <!--  <img src="{!$Resource.AGN_CustomerPortal+ 'images/attach_icon.png'}"/> -->
                                        <span class="attach_btn_text">{!$Label.c.AGN_OAM_Body_Attach}</span>
                                    </span>
                                </label>
                                <aura:if isTrue="{!v.fileName==null ? false : true}"><span class="upload_file">{!v.fileName}</span></aura:if>
                                <input type="file" class="file" aura:id="fileDoc"  id ="files" style="visibility:hidden;" /> </div>
                        </aura:if>
                        
                        
                        <div class="det_btn">
                            <div class="det_btns">  
                                <!-- <div class="add_btn continue_btn">Save</div>        
                         <div class="add_btn cancel_btn">Cancel</div>  -->
                                <ui:button aura:id="button" class="add_btn cancel_btn" label="{!$Label.c.AGN_OAM_Body_Cancel}" press="{!c.gotoHome}"/>
                                
                                <aura:if isTrue="{!v.activity != 'delete' ? true : false}">
                                    <ui:button aura:id="button" class="add_btn continue_btn" label="{!$Label.c.AGN_OAM_Body_Submit}" press="{!c.saveRecord}" disabled="{!v.isSaved}"/>
                                </aura:if>
                                <aura:if isTrue="{!v.activity == 'delete' ? true : false}">
                                    <ui:button aura:id="button" class="add_btn continue_btn" label="{!$Label.c.AGN_OAM_Body_Delete_Address}" press="{!c.saveRecord}" disabled="{!v.isSaved}"/>
                                </aura:if>
                                
                                <div class="required_field">
                                    <div class="blank_field" style="display:none"></div>
                                </div>
                            </div>	                        
                        </div>																		
                    </div>
                    
                </div>
            </div>			
        </div>        
        
        
        <!-- <aura:if isTrue="{!v.caseDetail.CaseNumber=='000000' ? false : true}"> -->
        <div style="height: 80vh">
            <aura:if isTrue="{!v.activity == 'delete' ? true : false}">
                <div class="success_com" ><span>{!$Label.c.AGN_OAM_Deactivate_Account_case_number}</span> &nbsp;{!(v.caseDetail.CaseNumber)} {!$Label.c.AGN_OAM_Thank_you}  <br/><ui:button aura:id="button" class="add_btn success_btn" label="Ok" press="{!c.gotoHome}"/></div>
            </aura:if>
            <aura:if isTrue="{!v.activity != 'delete' ? true : false}">
                <div class="success_com" ><span>{!$Label.c.AGN_OAM_Account_Update_case_number}</span> &nbsp;{!(v.caseDetail.CaseNumber)} {!$Label.c.AGN_OAM_Thank_you} <br/><ui:button aura:id="button" class="add_btn success_btn" label="Ok" press="{!c.gotoHome}"/></div>
            </aura:if>
        </div>
        <!-- </aura:if> -->
    </div>
    <div stye="position:relative;">
        
    </div>
</aura:component>